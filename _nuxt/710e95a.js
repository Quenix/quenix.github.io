(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{450:function(t,e,n){var content=n(474);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(21).default)("72112614",content,!0,{sourceMap:!1})},473:function(t,e,n){"use strict";n(450)},474:function(t,e,n){var o=n(20)(!1);o.push([t.i,"pre[data-v-882e962a]{outline:1px solid #ccc;padding:5px;margin:5px}",""]),t.exports=o},531:function(t,e,n){"use strict";n.r(e);var o={name:"TypesPage",middleware:["authenticated"],data:function(){return{headers:[{value:"type",text:"Type"},{value:"typeLimit",text:"Limit"},{value:"timeSpan",text:"Time span"},{value:"actions",text:"Actions"}],snackbar:!1,snackbarText:"",deleteDialog:!1,editDialog:!1,selectedRow:{},typeRules:[],typeForm:{type:"",typeLimit:"",timeSpan:""},newEntryDialog:!1}},created:function(){var t=this;this.$axios.get("/code/type/all").then((function(e){t.typeRules=e.data.typeRules}))},methods:{handleBackButton:function(){this.$router.push("/")},addNewTypeRule:function(){this.newEntryDialog=!0},saveTypeRule:function(){var t=this;this.$axios.post("/code/type",{type:this.typeForm.type,typeLimit:this.typeForm.typeLimit,timeSpan:this.typeForm.timeSpan}).then((function(e){t.snackbarText=e.data.message,t.newEntryDialog=!1,t.snackbar=!0,t.typeForm={},t.$axios.get("/code/type/all").then((function(e){t.typeRules=e.data.typeRules}))}))},openDeleteDialog:function(t){this.deleteDialog=!0,this.selectedRow=t},openEditDialog:function(t){this.newEntryDialog=!0,this.selectedRow=t,this.typeForm.type=t.type,this.typeForm.typeLimit=t.typeLimit,this.typeForm.timeSpan=t.timeSpan},deleteRow:function(t){var e=this;this.$axios.post("/code/type/delete",{type:this.selectedRow.type}).then((function(t){e.snackbarText=t.data.message,e.newEntryDialog=!1,e.snackbar=!0,e.typeForm={},e.$axios.get("/code/type/all").then((function(t){e.typeRules=t.data.typeRules}))})),this.deleteDialog=!1,this.selectedRow=null}}},l=(n(473),n(71)),r=n(90),c=n.n(r),d=n(219),y=n(424),v=n(420),m=n(522),f=n(539),h=n(527),x=n(524),k=n(191),w=n(521),D=n(525),_=n(526),R=n(519),component=Object(l.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h1",[t._v("List of type rules for game codes"),n("v-btn",{staticClass:"ml-4",attrs:{color:"primary"},on:{click:function(e){return t.addNewTypeRule()}}},[t._v("Add type")]),n("v-btn",{staticClass:"ml-4",on:{click:t.handleBackButton}},[t._v("Back")])],1),n("div",{staticClass:"TypesPage"},[n("v-data-table",{attrs:{headers:t.headers,items:t.typeRules},scopedSlots:t._u([{key:"item.actions",fn:function(e){return[n("v-btn",{staticClass:"ml-1",attrs:{color:"primary",text:""},on:{click:function(n){return t.openEditDialog(e.item)}}},[n("v-icon",[t._v("mdi-pencil")])],1),n("v-btn",{staticClass:"ml-1",attrs:{color:"error",text:""},on:{click:function(n){return n.stopPropagation(),t.openDeleteDialog(e.item)}}},[n("v-icon",[t._v("mdi-delete")])],1)]}}])}),n("v-snackbar",{attrs:{timeout:3e3},scopedSlots:t._u([{key:"action",fn:function(e){var o=e.attrs;return[n("v-btn",t._b({attrs:{color:"blue",text:""},on:{click:function(e){t.snackbar=!1}}},"v-btn",o,!1),[t._v("Close")])]}}]),model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(t._s(t.snackbarText))]),n("v-dialog",{attrs:{"max-width":"290"},model:{value:t.deleteDialog,callback:function(e){t.deleteDialog=e},expression:"deleteDialog"}},[n("v-card",[n("v-card-title",{staticClass:"text-h5"},[t._v("Delete this type rule?")]),n("v-card-text",[t._v("The following type rule will be deleted")]),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"error",text:""},on:{click:function(e){return t.deleteRow(t.selectedRow)}}},[t._v("Delete")]),n("v-btn",{attrs:{text:""},on:{click:function(e){t.deleteDialog=!1}}},[t._v("Cancel")])],1)],1)],1),n("v-dialog",{attrs:{persistent:"","max-width":"600px"},model:{value:t.newEntryDialog,callback:function(e){t.newEntryDialog=e},expression:"newEntryDialog"}},[n("v-card",[n("v-card-title",[n("span",{staticClass:"text-h5"},[t._v("New type rule")])]),n("v-card-text",[n("v-container",[n("v-row",[n("v-col",{attrs:{cols:"12"}},[n("v-text-field",{attrs:{label:"Type name",required:""},model:{value:t.typeForm.type,callback:function(e){t.$set(t.typeForm,"type",e)},expression:"typeForm.type"}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12"}},[n("v-text-field",{attrs:{label:"Limit (-1 for unlimited)",required:""},model:{value:t.typeForm.typeLimit,callback:function(e){t.$set(t.typeForm,"typeLimit",e)},expression:"typeForm.typeLimit"}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12"}},[n("v-text-field",{attrs:{label:"Time Span (-1 for single usage, or greater for renewal days) ",required:""},model:{value:t.typeForm.timeSpan,callback:function(e){t.$set(t.typeForm,"timeSpan",e)},expression:"typeForm.timeSpan"}})],1)],1)],1)],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){return t.saveTypeRule()}}},[t._v("Save")]),n("v-btn",{attrs:{color:"",text:""},on:{click:function(e){t.newEntryDialog=!1}}},[t._v("Close")])],1)],1)],1)],1)])}),[],!1,null,"882e962a",null);e.default=component.exports;c()(component,{VBtn:d.a,VCard:y.a,VCardActions:v.a,VCardText:v.b,VCardTitle:v.c,VCol:m.a,VContainer:f.a,VDataTable:h.a,VDialog:x.a,VIcon:k.a,VRow:w.a,VSnackbar:D.a,VSpacer:_.a,VTextField:R.a})}}]);